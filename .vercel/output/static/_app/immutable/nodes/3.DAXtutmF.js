import{S as Q,i as X,s as Y,n as G,d as p,R as T,e as d,A as B,U as z,f as A,h as g,D as te,j as k,k as y,r as V,w as F,m as I,v as M,x as J,z as Z,t as H,a as O,K as se,C as x,E as $,F as ee,G as ne,H as ae,V as re,L as K,J as le}from"../chunks/YuYPJFo0.js";import{c as L,e as U,u as ie,o as oe}from"../chunks/D-G1zbuE.js";import{R,g as ce,a as fe}from"../chunks/BvmCdXfA.js";import"../chunks/IHki7fMi.js";import{H as me}from"../chunks/22_Qlfdj.js";import{c as ue}from"../chunks/l0Lbtxrr.js";function he(m){let e,s,c,l,u,n,h,a,f,i,t,o,r,E,w,C,P;return{c(){e=I("div"),s=I("div"),c=M(),l=I("div"),u=I("div"),n=I("img"),a=M(),f=I("div"),i=I("h2"),t=J(m[0]),o=M(),r=I("p"),E=J(m[1]),this.h()},l(v){e=k(v,"DIV",{class:!0,style:!0});var _=y(e);s=k(_,"DIV",{class:!0}),y(s).forEach(p),c=V(_),l=k(_,"DIV",{class:!0});var D=y(l);u=k(D,"DIV",{class:!0});var S=y(u);n=k(S,"IMG",{src:!0,class:!0,alt:!0}),S.forEach(p),a=V(D),f=k(D,"DIV",{class:!0});var b=y(f);i=k(b,"H2",{class:!0});var j=y(i);t=F(j,m[0]),j.forEach(p),o=V(b),r=k(b,"P",{class:!0});var q=y(r);E=F(q,m[1]),q.forEach(p),b.forEach(p),D.forEach(p),_.forEach(p),this.h()},h(){d(s,"class","back svelte-z9erki"),T(n.src,h="/assets/cards/"+m[2]+".png")||d(n,"src",h),d(n,"class","my-img svelte-z9erki"),d(n,"alt",m[0]),d(u,"class","imgWrapper svelte-z9erki"),d(i,"class","svelte-z9erki"),d(r,"class","svelte-z9erki"),d(f,"class","my-text svelte-z9erki"),d(l,"class","front svelte-z9erki"),d(e,"class","card svelte-z9erki"),d(e,"style",w="--side: "+(m[3]%2?"160%":"-100%")),z(e,"show",m[4]),z(e,"hide",m[5])},m(v,_){A(v,e,_),g(e,s),g(e,c),g(e,l),g(l,u),g(u,n),g(l,a),g(l,f),g(f,i),g(i,t),g(f,o),g(f,r),g(r,E),C||(P=te(e,"click",m[6]),C=!0)},p(v,[_]){_&4&&!T(n.src,h="/assets/cards/"+v[2]+".png")&&d(n,"src",h),_&1&&d(n,"alt",v[0]),_&1&&B(t,v[0]),_&2&&B(E,v[1]),_&8&&w!==(w="--side: "+(v[3]%2?"160%":"-100%"))&&d(e,"style",w),_&16&&z(e,"show",v[4]),_&32&&z(e,"hide",v[5])},i:G,o:G,d(v){v&&p(e),C=!1,P()}}}function de(m,e,s){let{name:c="Мирний",description:l="Ну шо ш?",myImg:u="Man2",id:n=0,showingElement:h=0,elementIndex:a=0,changeData:f=()=>{console.log("hi")}}=e,i=!1,t=!1;function o(r){h===n&&(i?t||(s(5,t=!0),r.target.onclick="",f(),setTimeout(()=>s(4,i=!1),400)):s(4,i=!0))}return m.$$set=r=>{"name"in r&&s(0,c=r.name),"description"in r&&s(1,l=r.description),"myImg"in r&&s(2,u=r.myImg),"id"in r&&s(7,n=r.id),"showingElement"in r&&s(8,h=r.showingElement),"elementIndex"in r&&s(3,a=r.elementIndex),"changeData"in r&&s(9,f=r.changeData)},[c,l,u,a,i,t,o,n,h,f]}class ge extends Q{constructor(e){super(),X(this,e,de,he,Y,{name:0,description:1,myImg:2,id:7,showingElement:8,elementIndex:3,changeData:9})}}function _e({mans:m=3,mafias:e=1,withDoctor:s=!0,withCop:c=!0,withKamikaze:l=!1,withManiac:u=!1,withSecurity:n=!1,withLawyer:h=!1}){let a=[];for(let i=0;i<m;i++){const t=L.filter(o=>o.tag==="mans");t.length>0&&a.push(t[R.randomInteger(0,t.length-1)])}for(let i=0;i<e;i++){const t=L.filter(o=>o.tag==="mafias");t.length>0&&a.push(t[R.randomInteger(0,t.length-1)])}const f={doctor:s,cop:c,kamikaze:l,maniac:u,security:n,lawyer:h};return a=[...a,...L.filter(i=>f[i.tag])],R.shuffleArray(a)}function W(m,e,s){const c=m.slice();return c[7]=e[s],c}function N(m,e){let s,c,l;function u(){return e[4](e[7])}const n=[e[7],{changeData:u},{showingElement:e[2]},{elementIndex:e[0].indexOf(e[7])}];let h={};for(let a=0;a<n.length;a+=1)h=re(h,n[a]);return c=new ge({props:h}),{key:m,first:null,c(){s=K(),ee(c.$$.fragment),this.h()},l(a){s=K(),$(c.$$.fragment,a),this.h()},h(){this.first=s},m(a,f){A(a,s,f),x(c,a,f),l=!0},p(a,f){e=a;const i=f&15?ce(n,[f&2&&fe(e[7]),f&10&&{changeData:u},f&4&&{showingElement:e[2]},f&3&&{elementIndex:e[0].indexOf(e[7])}]):{};c.$set(i)},i(a){l||(O(c.$$.fragment,a),l=!0)},o(a){H(c.$$.fragment,a),l=!1},d(a){a&&p(s),Z(c,a)}}}function ve(m){let e,s,c,l,u,n=[],h=new Map,a;l=new me({});let f=U(m[1]);const i=t=>t[7].id;for(let t=0;t<f.length;t+=1){let o=W(m,f,t),r=i(o);h.set(r,n[t]=N(r,o))}return{c(){e=I("div"),s=I("div"),c=I("div"),ee(l.$$.fragment),u=M();for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=k(t,"DIV",{class:!0});var o=y(e);s=k(o,"DIV",{class:!0});var r=y(s);c=k(r,"DIV",{class:!0});var E=y(c);$(l.$$.fragment,E),E.forEach(p),u=V(r);for(let w=0;w<n.length;w+=1)n[w].l(r);r.forEach(p),o.forEach(p),this.h()},h(){d(c,"class","home-btn svelte-1veysv7"),d(s,"class","conteiner-inner svelte-1veysv7"),d(e,"class","center svelte-1veysv7")},m(t,o){A(t,e,o),g(e,s),g(s,c),x(l,c,null),g(s,u);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(s,null);a=!0},p(t,[o]){o&15&&(f=U(t[1]),le(),n=ie(n,o,i,1,t,f,h,s,oe,N,null,W),se())},i(t){if(!a){O(l.$$.fragment,t);for(let o=0;o<f.length;o+=1)O(n[o]);a=!0}},o(t){H(l.$$.fragment,t);for(let o=0;o<n.length;o+=1)H(n[o]);a=!1},d(t){t&&p(e),Z(l);for(let o=0;o<n.length;o+=1)n[o].d()}}}function pe(m,e,s){let c;ne(m,ue,i=>s(6,c=i));let l=[{name:"Мирний",description:"Та я мириний мен",myImg:"Man2",id:1}],u=[{name:"Мирний",description:"Та я мириний мен",myImg:"Man2",id:1}],n=0,h=3;function a(i){try{if(l.indexOf(i)+1==l.length)return;s(2,n=l[l.indexOf(i)+1].id),h++,s(1,u=l.slice(0,h).reverse())}catch(t){console.log(t),s(2,n=0)}}return ae(()=>{let i={mans:4,mafias:2,withDoctor:!0,withCop:!0};try{if(i=c,!i)return}catch(t){console.log(t)}s(0,l=_e(i).map(({name:t="Мирний",description:o="Ну шо ш?",myImg:r="Man2"},E)=>({name:t,description:o,myImg:r,id:E}))),s(1,u=l.slice(0,h).reverse())}),[l,u,n,a,i=>a(i)]}class be extends Q{constructor(e){super(),X(this,e,pe,ve,Y,{})}}export{be as component};
